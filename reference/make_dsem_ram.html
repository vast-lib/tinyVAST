<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Make a RAM (Reticular Action Model) — make_dsem_ram • tinyVAST</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Make a RAM (Reticular Action Model) — make_dsem_ram"><meta name="description" content="make_dsem_ram converts SEM arrow notation to ram describing SEM parameters"><meta property="og:description" content="make_dsem_ram converts SEM arrow notation to ram describing SEM parameters"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">tinyVAST</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.1.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/web_only/overview.html">Overview of vignettes</a></li>
    <li><a class="dropdown-item" href="../articles/model-description.html">tinyVAST model description</a></li>
    <li><a class="dropdown-item" href="../articles/mgcv.html">Comparison with mgcv</a></li>
    <li><a class="dropdown-item" href="../articles/spatial.html">Spatial modeling</a></li>
    <li><a class="dropdown-item" href="../articles/multiple_data.html">Multiple data types</a></li>
    <li><a class="dropdown-item" href="../articles/dsem.html">Dynamic structural equation models</a></li>
    <li><a class="dropdown-item" href="../articles/web_only/simultaneous_autoregressive_process.html">Simultaneous autoregressive process</a></li>
    <li><a class="dropdown-item" href="../articles/web_only/stream_networks.html">Stream network models</a></li>
    <li><a class="dropdown-item" href="../articles/web_only/age_composition_expansion.html">Age composition expansion</a></li>
    <li><a class="dropdown-item" href="../articles/web_only/condition.html">Condition and density</a></li>
    <li><a class="dropdown-item" href="../articles/web_only/empirical_orthogonal_functions.html">Empirical orthogonal functions</a></li>
    <li><a class="dropdown-item" href="../articles/spatial_factor_analysis.html">Spatial factor analysis</a></li>
    <li><a class="dropdown-item" href="../articles/web_only/VAST.html">Vector autoregressive spatio-temporal models</a></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/vast-lib/tinyVAST/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Make a RAM (Reticular Action Model)</h1>
      <small class="dont-index">Source: <a href="https://github.com/vast-lib/tinyVAST/blob/HEAD/R/make_dsem_ram.R" class="external-link"><code>R/make_dsem_ram.R</code></a></small>
      <div class="d-none name"><code>make_dsem_ram.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p><code>make_dsem_ram</code> converts SEM arrow notation to <code>ram</code> describing SEM parameters</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">make_dsem_ram</span><span class="op">(</span></span>
<span>  <span class="va">dsem</span>,</span>
<span>  <span class="va">times</span>,</span>
<span>  <span class="va">variables</span>,</span>
<span>  covs <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  quiet <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  remove_na <span class="op">=</span> <span class="cn">TRUE</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-dsem">dsem<a class="anchor" aria-label="anchor" href="#arg-dsem"></a></dt>
<dd><p>dynamic structural equation model structure,
passed to either <code><a href="https://rdrr.io/pkg/sem/man/specifyModel.html" class="external-link">specifyModel</a></code>
or <code><a href="https://rdrr.io/pkg/sem/man/specifyModel.html" class="external-link">specifyEquations</a></code> and then parsed to control
the set of path coefficients and variance-covariance parameters</p></dd>


<dt id="arg-times">times<a class="anchor" aria-label="anchor" href="#arg-times"></a></dt>
<dd><p>A character vector listing the set of times in order</p></dd>


<dt id="arg-variables">variables<a class="anchor" aria-label="anchor" href="#arg-variables"></a></dt>
<dd><p>A character vector listing the set of variables</p></dd>


<dt id="arg-covs">covs<a class="anchor" aria-label="anchor" href="#arg-covs"></a></dt>
<dd><p>optional: a character vector of one or more elements, with each element
  	giving a string of variable names, separated by commas. Variances and covariances
  	among all variables in each such string are added to the model. For confirmatory
  	factor analysis models specified via <code>cfa</code>, <code>covs</code> defaults to all of
  	the factors in the model, thus specifying all variances and covariances among these factors.
  	<em>Warning</em>: <code>covs="x1, x2"</code> and <code>covs=c("x1", "x2")</code> are <em>not</em>
  	equivalent: <code>covs="x1, x2"</code> specifies the variance of <code>x1</code>, the variance
  	of <code>x2</code>, <em>and</em> their covariance, while <code>covs=c("x1", "x2")</code> specifies
  	the variance of <code>x1</code> and the variance of <code>x2</code> <em>but not</em> their covariance.</p></dd>


<dt id="arg-quiet">quiet<a class="anchor" aria-label="anchor" href="#arg-quiet"></a></dt>
<dd><p>Boolean indicating whether to print messages to terminal</p></dd>


<dt id="arg-remove-na">remove_na<a class="anchor" aria-label="anchor" href="#arg-remove-na"></a></dt>
<dd><p>Boolean indicating whether to remove NA values from RAM (default) or not.
<code>remove_NA=FALSE</code> might be useful for exploration and diagnostics for
advanced users</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>A reticular action module (RAM) describing dependencies</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p><strong>RAM specification using arrow-and-lag notation</strong></p>
<p>Each line of the RAM specification for <code>make_dsem_ram</code> consists of four (unquoted) entries,
separated by commas:</p>
<dl><dt>1. Arrow specification:</dt>
<dd><p>This is a simple formula, of the form
<code>A -&gt; B</code> or, equivalently, <code>B &lt;- A</code> for a regression
coefficient (i.e., a single-headed or directional arrow);
<code>A &lt;-&gt; A</code> for a variance or <code>A &lt;-&gt; B</code> for a covariance
(i.e., a double-headed or bidirectional arrow). Here, <code>A</code> and
<code>B</code> are variable names in the model. If a name does not correspond
to an observed variable, then it is assumed to be a latent variable.
Spaces can appear freely in an arrow specification, and
there can be any number of hyphens in the arrows, including zero: Thus,
e.g., <code>A-&gt;B</code>, <code>A --&gt; B</code>, and <code>A&gt;B</code> are all legitimate
and equivalent.</p></dd>

<dt>2. Lag (using positive values):</dt>
<dd><p>An integer specifying whether the linkage
is simultaneous (<code>lag=0</code>) or lagged (e.g., <code>X -&gt; Y, 1, XtoY</code>
indicates that X in time T affects Y in time T+1), where
only one-headed arrows can be lagged. Using positive values to indicate lags
then matches the notational convention used in package <span class="pkg">dynlm</span>.</p></dd>

<dt>3. Parameter name:</dt>
<dd><p>The name of the regression coefficient, variance,
or covariance specified by the arrow. Assigning the same name to two or
more arrows results in an equality constraint. Specifying the parameter name
as <code>NA</code> produces a fixed parameter.</p></dd>

<dt>4. Value:</dt>
<dd><p>start value for a free parameter or value of a fixed parameter.
If given as <code>NA</code> (or simply omitted), the model is provide a default
starting value.</p></dd>


</dl><p>Lines may end in a comment following #. The function extends code copied from package
<code>sem</code> under licence GPL (&gt;= 2) with permission from John Fox.</p>
<p><strong>Simultaneous autoregressive process for simultaneous and lagged effects</strong></p>
<p>This text then specifies linkages in a multivariate time-series model for variables \(\mathbf X\)
with dimensions \(T \times C\) for \(T\) times and \(C\) variables.
<code>make_dsem_ram</code> then parses this text to build a path matrix \(\mathbf P\) with
dimensions \(TC \times TC\), where \(\rho_{k_2,k_1}\)
represents the impact of \(x_{t_1,c_1}\) on \(x_{t_2,c_2}\), where \(k_1=T c_1+t_1\)
and \(k_2=T c_2+t_2\).  This path matrix defines a simultaneous equation</p>
<p>$$ \mathrm{vec}(\mathbf X) = \mathbf P \mathrm{vec}(\mathbf X) + \mathrm{vec}(\mathbf \Delta)$$</p>
<p>where \(\mathbf \Delta\) is a matrix of exogenous errors with covariance \(\mathbf{V = \Gamma \Gamma}^t\),
where \(\mathbf \Gamma\) is the Cholesky of exogenous covariance.  This
simultaneous autoregressive (SAR) process then results in \(\mathbf X\) having covariance:</p>
<p>$$ \mathrm{Cov}(\mathbf X) = \mathbf{(I - P)}^{-1} \mathbf{\Gamma \Gamma}^t \mathbf{((I - P)}^{-1})^t $$</p>
<p>Usefully, it is also easy to compute the inverse-covariance (precision) matrix \(\mathbf{Q = V}^{-1}\):</p>
<p>$$ \mathbf{Q} = (\mathbf{\Gamma}^{-1} \mathbf{(I - P)})^t \mathbf{\Gamma}^{-1} \mathbf{(I - P)} $$</p>
<p><strong>Example: univariate and first-order autoregressive model</strong></p>
<p>This simultaneous autoregressive (SAR) process across variables and times
allows the user to specify both simultaneous effects (effects among variables within
year \(T\)) and lagged effects (effects among variables among years \(T\)).
As one example, consider a univariate and first-order autoregressive process where \(T=4\).
with independent errors.  This is specified by passing <code> dsem = X -&gt; X, 1, rho; X &lt;-&gt; X, 0, sigma </code> to <code>make_dsem_ram</code>.
This is then parsed to a RAM:</p>
<table class="table table"><tr><td><strong>heads</strong></td><td><strong>to</strong></td><td><strong>from</strong></td><td><strong>paarameter</strong></td><td><strong>start</strong></td></tr><tr><td>1</td><td>2</td><td>1</td><td>1</td><td>NA</td></tr><tr><td>1</td><td>3</td><td>2</td><td>1</td><td>NA</td></tr><tr><td>1</td><td>4</td><td>3</td><td>1</td><td>NA</td></tr><tr><td>2</td><td>1</td><td>1</td><td>2</td><td>NA</td></tr><tr><td>2</td><td>2</td><td>2</td><td>2</td><td>NA</td></tr><tr><td>2</td><td>3</td><td>3</td><td>2</td><td>NA</td></tr><tr><td>2</td><td>4</td><td>4</td><td>2</td><td>NA</td></tr></table><p>Rows of this RAM where <code>heads=1</code> are then interpreted to construct the path matrix \(\mathbf P\):</p>
<p></p><div class="sourceCode"><pre><code><span id="cb1-1"><a href="#cb1-1" tabindex="-1"></a>\deqn{ \mathbf P <span class="ot">=</span> \begin{bmatrix}</span>
<span id="cb1-2"><a href="#cb1-2" tabindex="-1"></a>    <span class="dv">0</span> <span class="sc">&amp;</span> <span class="dv">0</span> <span class="sc">&amp;</span> <span class="dv">0</span> <span class="sc">&amp;</span> <span class="dv">0</span> \</span>
<span id="cb1-3"><a href="#cb1-3" tabindex="-1"></a>    \rho <span class="sc">&amp;</span> <span class="dv">0</span> <span class="sc">&amp;</span> <span class="dv">0</span> <span class="sc">&amp;</span> <span class="dv">0</span> \</span>
<span id="cb1-4"><a href="#cb1-4" tabindex="-1"></a>    <span class="dv">0</span> <span class="sc">&amp;</span> \rho <span class="sc">&amp;</span> <span class="dv">0</span> <span class="sc">&amp;</span> <span class="dv">0</span> \</span>
<span id="cb1-5"><a href="#cb1-5" tabindex="-1"></a>    <span class="dv">0</span> <span class="sc">&amp;</span> <span class="dv">0</span> <span class="sc">&amp;</span> \rho <span class="sc">&amp;</span> <span class="dv">0</span>\</span>
<span id="cb1-6"><a href="#cb1-6" tabindex="-1"></a>    \end{bmatrix} }</span></code></pre><p></p></div>
<p>While rows where <code>heads=2</code> are interpreted to construct the Cholesky of exogenous covariance \(\mathbf \Gamma\):</p>
<p></p><div class="sourceCode"><pre><code><span id="cb1-1"><a href="#cb1-1" tabindex="-1"></a>\deqn{ \mathbf \Gamma <span class="ot">=</span> \begin{bmatrix}</span>
<span id="cb1-2"><a href="#cb1-2" tabindex="-1"></a>    \sigma <span class="sc">&amp;</span> <span class="dv">0</span> <span class="sc">&amp;</span> <span class="dv">0</span> <span class="sc">&amp;</span> <span class="dv">0</span> \</span>
<span id="cb1-3"><a href="#cb1-3" tabindex="-1"></a>    <span class="dv">0</span> <span class="sc">&amp;</span> \sigma <span class="sc">&amp;</span> <span class="dv">0</span> <span class="sc">&amp;</span> <span class="dv">0</span> \</span>
<span id="cb1-4"><a href="#cb1-4" tabindex="-1"></a>    <span class="dv">0</span> <span class="sc">&amp;</span> <span class="dv">0</span> <span class="sc">&amp;</span> \sigma <span class="sc">&amp;</span> <span class="dv">0</span> \</span>
<span id="cb1-5"><a href="#cb1-5" tabindex="-1"></a>    <span class="dv">0</span> <span class="sc">&amp;</span> <span class="dv">0</span> <span class="sc">&amp;</span> <span class="dv">0</span> <span class="sc">&amp;</span> \sigma\</span>
<span id="cb1-6"><a href="#cb1-6" tabindex="-1"></a>    \end{bmatrix} }</span></code></pre><p></p></div>
<p>with two estimated parameters \(\mathbf \beta = (\rho, \sigma) \). This then results in covariance:</p>
<p></p><div class="sourceCode"><pre><code><span id="cb1-1"><a href="#cb1-1" tabindex="-1"></a>\deqn{ \mathrm{Cov}(\mathbf X) <span class="ot">=</span> \sigma<span class="sc">^</span><span class="dv">2</span> \begin{bmatrix}</span>
<span id="cb1-2"><a href="#cb1-2" tabindex="-1"></a>    <span class="dv">1</span> <span class="sc">&amp;</span> \rho<span class="sc">^</span><span class="dv">1</span> <span class="sc">&amp;</span> \rho<span class="sc">^</span><span class="dv">2</span> <span class="sc">&amp;</span> \rho<span class="sc">^</span><span class="dv">3</span> \</span>
<span id="cb1-3"><a href="#cb1-3" tabindex="-1"></a>    \rho<span class="sc">^</span><span class="dv">1</span> <span class="sc">&amp;</span> <span class="dv">1</span> <span class="sc">&amp;</span> \rho<span class="sc">^</span><span class="dv">1</span> <span class="sc">&amp;</span> \rho<span class="sc">^</span><span class="dv">2</span> \</span>
<span id="cb1-4"><a href="#cb1-4" tabindex="-1"></a>    \rho<span class="sc">^</span><span class="dv">2</span> <span class="sc">&amp;</span> \rho<span class="sc">^</span><span class="dv">1</span> <span class="sc">&amp;</span> <span class="dv">1</span> <span class="sc">&amp;</span> \rho<span class="sc">^</span><span class="dv">1</span> \</span>
<span id="cb1-5"><a href="#cb1-5" tabindex="-1"></a>    \rho<span class="sc">^</span><span class="dv">3</span> <span class="sc">&amp;</span> \rho<span class="sc">^</span><span class="dv">2</span> <span class="sc">&amp;</span> \rho<span class="sc">^</span><span class="dv">1</span> <span class="sc">&amp;</span> <span class="dv">1</span>\</span>
<span id="cb1-6"><a href="#cb1-6" tabindex="-1"></a>    \end{bmatrix} }</span></code></pre><p></p></div>
<p>Similarly, the arrow-and-lag notation can be used to specify a SAR representing
a conventional structural equation model (SEM), cross-lagged (a.k.a. vector autoregressive)
models (VAR), dynamic factor analysis (DFA), or many other time-series models.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co"># Univariate AR1</span></span></span>
<span class="r-in"><span><span class="va">dsem</span> <span class="op">=</span> <span class="st">"</span></span></span>
<span class="r-in"><span><span class="st">  X -&gt; X, 1, rho</span></span></span>
<span class="r-in"><span><span class="st">  X &lt;-&gt; X, 0, sigma</span></span></span>
<span class="r-in"><span><span class="st">"</span></span></span>
<span class="r-in"><span><span class="fu">make_dsem_ram</span><span class="op">(</span> dsem<span class="op">=</span><span class="va">dsem</span>, variables<span class="op">=</span><span class="st">"X"</span>, times<span class="op">=</span><span class="fl">1</span><span class="op">:</span><span class="fl">4</span> <span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $model</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      path      lag name    start parameter first second direction</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1,] "X -&gt; X"  "1" "rho"   NA    "1"       "X"   "X"    "1"      </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [2,] "X &lt;-&gt; X" "0" "sigma" NA    "2"       "X"   "X"    "2"      </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $ram</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   heads to from parameter start</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1     1  2    1         1  &lt;NA&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2     1  3    2         1  &lt;NA&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3     1  4    3         1  &lt;NA&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5     2  1    1         2  &lt;NA&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6     2  2    2         2  &lt;NA&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 7     2  3    3         2  &lt;NA&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 8     2  4    4         2  &lt;NA&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> attr(,"class")</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "dsem_ram"</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Univariate AR2</span></span></span>
<span class="r-in"><span><span class="va">dsem</span> <span class="op">=</span> <span class="st">"</span></span></span>
<span class="r-in"><span><span class="st">  X -&gt; X, 1, rho1</span></span></span>
<span class="r-in"><span><span class="st">  X -&gt; X, 2, rho2</span></span></span>
<span class="r-in"><span><span class="st">  X &lt;-&gt; X, 0, sigma</span></span></span>
<span class="r-in"><span><span class="st">"</span></span></span>
<span class="r-in"><span><span class="fu">make_dsem_ram</span><span class="op">(</span> dsem<span class="op">=</span><span class="va">dsem</span>, variables<span class="op">=</span><span class="st">"X"</span>, times<span class="op">=</span><span class="fl">1</span><span class="op">:</span><span class="fl">4</span> <span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $model</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      path      lag name    start parameter first second direction</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1,] "X -&gt; X"  "1" "rho1"  NA    "1"       "X"   "X"    "1"      </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [2,] "X -&gt; X"  "2" "rho2"  NA    "2"       "X"   "X"    "1"      </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [3,] "X &lt;-&gt; X" "0" "sigma" NA    "3"       "X"   "X"    "2"      </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $ram</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    heads to from parameter start</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1      1  2    1         1  &lt;NA&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2      1  3    2         1  &lt;NA&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3      1  4    3         1  &lt;NA&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5      1  3    1         2  &lt;NA&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6      1  4    2         2  &lt;NA&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 9      2  1    1         3  &lt;NA&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 10     2  2    2         3  &lt;NA&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 11     2  3    3         3  &lt;NA&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 12     2  4    4         3  &lt;NA&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> attr(,"class")</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "dsem_ram"</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Bivariate VAR</span></span></span>
<span class="r-in"><span><span class="va">dsem</span> <span class="op">=</span> <span class="st">"</span></span></span>
<span class="r-in"><span><span class="st">  X -&gt; X, 1, XtoX</span></span></span>
<span class="r-in"><span><span class="st">  X -&gt; Y, 1, XtoY</span></span></span>
<span class="r-in"><span><span class="st">  Y -&gt; X, 1, YtoX</span></span></span>
<span class="r-in"><span><span class="st">  Y -&gt; Y, 1, YtoY</span></span></span>
<span class="r-in"><span><span class="st">  X &lt;-&gt; X, 0, sdX</span></span></span>
<span class="r-in"><span><span class="st">  Y &lt;-&gt; Y, 0, sdY</span></span></span>
<span class="r-in"><span><span class="st">"</span></span></span>
<span class="r-in"><span><span class="fu">make_dsem_ram</span><span class="op">(</span> dsem<span class="op">=</span><span class="va">dsem</span>, variables<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"X"</span>,<span class="st">"Y"</span><span class="op">)</span>, times<span class="op">=</span><span class="fl">1</span><span class="op">:</span><span class="fl">4</span> <span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $model</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      path      lag name   start parameter first second direction</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1,] "X -&gt; X"  "1" "XtoX" NA    "1"       "X"   "X"    "1"      </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [2,] "X -&gt; Y"  "1" "XtoY" NA    "2"       "X"   "Y"    "1"      </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [3,] "Y -&gt; X"  "1" "YtoX" NA    "3"       "Y"   "X"    "1"      </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [4,] "Y -&gt; Y"  "1" "YtoY" NA    "4"       "Y"   "Y"    "1"      </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [5,] "X &lt;-&gt; X" "0" "sdX"  NA    "5"       "X"   "X"    "2"      </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [6,] "Y &lt;-&gt; Y" "0" "sdY"  NA    "6"       "Y"   "Y"    "2"      </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $ram</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    heads to from parameter start</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1      1  2    1         1  &lt;NA&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2      1  3    2         1  &lt;NA&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3      1  4    3         1  &lt;NA&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5      1  6    1         2  &lt;NA&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6      1  7    2         2  &lt;NA&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 7      1  8    3         2  &lt;NA&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 9      1  2    5         3  &lt;NA&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 10     1  3    6         3  &lt;NA&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 11     1  4    7         3  &lt;NA&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 13     1  6    5         4  &lt;NA&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 14     1  7    6         4  &lt;NA&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 15     1  8    7         4  &lt;NA&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 17     2  1    1         5  &lt;NA&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 18     2  2    2         5  &lt;NA&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 19     2  3    3         5  &lt;NA&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 20     2  4    4         5  &lt;NA&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 21     2  5    5         6  &lt;NA&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 22     2  6    6         6  &lt;NA&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 23     2  7    7         6  &lt;NA&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 24     2  8    8         6  &lt;NA&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> attr(,"class")</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "dsem_ram"</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Dynamic factor analysis with one factor and two manifest variables</span></span></span>
<span class="r-in"><span><span class="co"># (specifies a random-walk for the factor, and miniscule residual SD)</span></span></span>
<span class="r-in"><span><span class="va">dsem</span> <span class="op">=</span> <span class="st">"</span></span></span>
<span class="r-in"><span><span class="st">  factor -&gt; X, 0, loadings1</span></span></span>
<span class="r-in"><span><span class="st">  factor -&gt; Y, 0, loadings2</span></span></span>
<span class="r-in"><span><span class="st">  factor -&gt; factor, 1, NA, 1</span></span></span>
<span class="r-in"><span><span class="st">  X &lt;-&gt; X, 0, NA, 0           # No additional variance</span></span></span>
<span class="r-in"><span><span class="st">  Y &lt;-&gt; Y, 0, NA, 0           # No additional variance</span></span></span>
<span class="r-in"><span><span class="st">"</span></span></span>
<span class="r-in"><span><span class="fu">make_dsem_ram</span><span class="op">(</span> dsem<span class="op">=</span><span class="va">dsem</span>, variables<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"X"</span>,<span class="st">"Y"</span>,<span class="st">"factor"</span><span class="op">)</span>, times<span class="op">=</span><span class="fl">1</span><span class="op">:</span><span class="fl">4</span> <span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> NOTE: adding 1 variances to the model</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $model</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                                              parameter first    second  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1,] "factor -&gt; X"       "0" "loadings1" NA  "1"       "factor" "X"     </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [2,] "factor -&gt; Y"       "0" "loadings2" NA  "2"       "factor" "Y"     </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [3,] "factor -&gt; factor"  "1" NA          "1" "0"       "factor" "factor"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [4,] "X &lt;-&gt; X"           "0" NA          "0" "0"       "X"      "X"     </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [5,] "Y &lt;-&gt; Y"           "0" NA          "0" "0"       "Y"      "Y"     </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [6,] "factor &lt;-&gt; factor" "0" "V[factor]" NA  "3"       "factor" "factor"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      direction</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1,] "1"      </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [2,] "1"      </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [3,] "1"      </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [4,] "2"      </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [5,] "2"      </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [6,] "2"      </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $ram</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    heads to from parameter start</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1      1  1    9         1  &lt;NA&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2      1  2   10         1  &lt;NA&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3      1  3   11         1  &lt;NA&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4      1  4   12         1  &lt;NA&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5      1  5    9         2  &lt;NA&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6      1  6   10         2  &lt;NA&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 7      1  7   11         2  &lt;NA&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 8      1  8   12         2  &lt;NA&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 9      1 10    9         0     1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 10     1 11   10         0     1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 11     1 12   11         0     1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 13     2  1    1         0     0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 14     2  2    2         0     0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 15     2  3    3         0     0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 16     2  4    4         0     0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 17     2  5    5         0     0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 18     2  6    6         0     0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 19     2  7    7         0     0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 20     2  8    8         0     0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 21     2  9    9         3  &lt;NA&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 22     2 10   10         3  &lt;NA&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 23     2 11   11         3  &lt;NA&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 24     2 12   12         3  &lt;NA&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> attr(,"class")</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "dsem_ram"</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># ARIMA(1,1,0)</span></span></span>
<span class="r-in"><span><span class="va">dsem</span> <span class="op">=</span> <span class="st">"</span></span></span>
<span class="r-in"><span><span class="st">  factor -&gt; factor, 1, rho1 # AR1 component</span></span></span>
<span class="r-in"><span><span class="st">  X -&gt; X, 1, NA, 1          # Integrated component</span></span></span>
<span class="r-in"><span><span class="st">  factor -&gt; X, 0, NA, 1</span></span></span>
<span class="r-in"><span><span class="st">  X &lt;-&gt; X, 0, NA, 0         # No additional variance</span></span></span>
<span class="r-in"><span><span class="st">"</span></span></span>
<span class="r-in"><span><span class="fu">make_dsem_ram</span><span class="op">(</span> dsem<span class="op">=</span><span class="va">dsem</span>, variables<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"X"</span>,<span class="st">"factor"</span><span class="op">)</span>, times<span class="op">=</span><span class="fl">1</span><span class="op">:</span><span class="fl">4</span> <span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> NOTE: adding 1 variances to the model</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $model</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                                              parameter first    second  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1,] "factor -&gt; factor"  "1" "rho1"      NA  "1"       "factor" "factor"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [2,] "X -&gt; X"            "1" NA          "1" "0"       "X"      "X"     </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [3,] "factor -&gt; X"       "0" NA          "1" "0"       "factor" "X"     </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [4,] "X &lt;-&gt; X"           "0" NA          "0" "0"       "X"      "X"     </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [5,] "factor &lt;-&gt; factor" "0" "V[factor]" NA  "2"       "factor" "factor"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      direction</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1,] "1"      </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [2,] "1"      </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [3,] "1"      </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [4,] "2"      </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [5,] "2"      </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $ram</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    heads to from parameter start</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1      1  6    5         1  &lt;NA&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2      1  7    6         1  &lt;NA&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3      1  8    7         1  &lt;NA&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5      1  2    1         0     1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6      1  3    2         0     1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 7      1  4    3         0     1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 9      1  1    5         0     1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 10     1  2    6         0     1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 11     1  3    7         0     1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 12     1  4    8         0     1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 13     2  1    1         0     0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 14     2  2    2         0     0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 15     2  3    3         0     0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 16     2  4    4         0     0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 17     2  5    5         2  &lt;NA&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 18     2  6    6         2  &lt;NA&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 19     2  7    7         2  &lt;NA&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 20     2  8    8         2  &lt;NA&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> attr(,"class")</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "dsem_ram"</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># ARIMA(0,0,1)</span></span></span>
<span class="r-in"><span><span class="va">dsem</span> <span class="op">=</span> <span class="st">"</span></span></span>
<span class="r-in"><span><span class="st">  factor -&gt; X, 0, NA, 1</span></span></span>
<span class="r-in"><span><span class="st">  factor -&gt; X, 1, rho1     # MA1 component</span></span></span>
<span class="r-in"><span><span class="st">  X &lt;-&gt; X, 0, NA, 0        # No additional variance</span></span></span>
<span class="r-in"><span><span class="st">"</span></span></span>
<span class="r-in"><span><span class="fu">make_dsem_ram</span><span class="op">(</span> dsem<span class="op">=</span><span class="va">dsem</span>, variables<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"X"</span>,<span class="st">"factor"</span><span class="op">)</span>, times<span class="op">=</span><span class="fl">1</span><span class="op">:</span><span class="fl">4</span> <span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> NOTE: adding 1 variances to the model</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $model</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                                              parameter first    second  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1,] "factor -&gt; X"       "0" NA          "1" "0"       "factor" "X"     </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [2,] "factor -&gt; X"       "1" "rho1"      NA  "1"       "factor" "X"     </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [3,] "X &lt;-&gt; X"           "0" NA          "0" "0"       "X"      "X"     </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [4,] "factor &lt;-&gt; factor" "0" "V[factor]" NA  "2"       "factor" "factor"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      direction</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1,] "1"      </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [2,] "1"      </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [3,] "2"      </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [4,] "2"      </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $ram</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    heads to from parameter start</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1      1  1    5         0     1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2      1  2    6         0     1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3      1  3    7         0     1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4      1  4    8         0     1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5      1  2    5         1  &lt;NA&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6      1  3    6         1  &lt;NA&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 7      1  4    7         1  &lt;NA&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 9      2  1    1         0     0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 10     2  2    2         0     0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 11     2  3    3         0     0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 12     2  4    4         0     0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 13     2  5    5         2  &lt;NA&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 14     2  6    6         2  &lt;NA&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 15     2  7    7         2  &lt;NA&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 16     2  8    8         2  &lt;NA&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> attr(,"class")</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "dsem_ram"</span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by James T. Thorson, Sean C. Anderson.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer></div>





  </body></html>

