% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/mesh.R
\name{add_vertex_covariates}
\alias{add_vertex_covariates}
\title{Add vertex covariates to a mesh}
\usage{
add_vertex_covariates(mesh, data, covariates, coords, power = 2)
}
\arguments{
\item{mesh}{A mesh object from \pkg{fmesher} or \pkg{sdmTMB} (for
\code{\link[sdmTMB:sdmTMB]{sdmTMB::sdmTMB()}} models only).}

\item{data}{A data frame with coordinate columns and covariate columns, or an
\pkg{sf} object.}

\item{covariates}{Character vector of covariate column names to interpolate.}

\item{coords}{Character vector of coordinate column names.
Ignored if data is an \pkg{sf} object.}

\item{power}{Numeric power parameter for inverse distance weighting
(default \code{2}; Euclidean squared decay).}
}
\value{
Modified mesh object with a \code{vertex_covariates} element added and
class \code{vertex_cov} added.
}
\description{
Interpolates covariate values from a data frame to mesh vertices using
inverse distance weighting.
}
\examples{
library(sdmTMB)
library(sf)

# Regular data frame
mesh <- fmesher::fm_mesh_2d(pcod[, c("X", "Y")], cutoff = 10)
mesh_with_covs <- add_vertex_covariates(
  mesh,
  data = qcs_grid,
  covariates = c("depth_scaled", "depth_scaled2"),
  coords = c("X", "Y")
)
head(mesh_with_covs$vertex_covariates)

# Piped version
mesh_with_covs <- fmesher::fm_mesh_2d(pcod[, c("X", "Y")], cutoff = 10) |>
  add_vertex_covariates(
    qcs_grid,
    covariates = c("depth_scaled", "depth_scaled2"),
    coords  = c("X", "Y")
  )

# With sf objects (coords automatically extracted)
pcod_sf <- st_as_sf(pcod, coords = c("X", "Y"))
grid_sf <- st_as_sf(qcs_grid, coords = c("X", "Y"))
mesh_sf <- fmesher::fm_mesh_2d(pcod_sf, cutoff = 10) |>
  add_vertex_covariates(grid_sf, c("depth"))

# With sdmTMB mesh (coordinate names and mesh automatically detected)
mesh <- make_mesh(pcod, c("X", "Y"), cutoff = 10) |>
  add_vertex_covariates(qcs_grid, c("depth"))
}
